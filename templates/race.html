{% extends "base.html" %}

{% block title %}Race {{ race.pk }} - {{ block.super }}{% endblock %}

{% block body_class %}lobby loading{% endblock %}

{% block content %}
        <div id="track" class="racing">
        </div>
        <div id="race" class="racing">
        <div id="right" class="racing">:D</div>
        <div id="wrong" class="racing">:(</div>
        <div id="question" class="racing">
          <p class="description"></p>
          <pre class="input"></pre> 
        </div>
        <div id="answer" class="racing">
            <form id="race-form" method="POST" action=".">
              <textarea class="answer" name="answer"></textarea>
              <div id="status"></div>
            </form>
        </div>
        </div>
        <div id="lobby" class="lobby">
        </div>
{% endblock %}

{% block javascript %}
  {{ block.super|safe }}
  <script type="text/html" id="question_template">
    {{ question_template|safe }}
  </script>
  <script type="text/javascript" src="{{ MEDIA_URL }}js/race.js"></script>

  <script type="text/javascript">
    $(function() {
      $.getScript('/socket.io/socket.io.js', function() {
        var race = new QKR.Race({{ race.pk }}, {{ user.pk }}, $('#race-form'))
      })
    })
  </script>
{% endblock %}

{% block footer_all %}
  <div class="loading">
    <h2>Loading...</h2>
  </div>
{% endblock %}
